<ng-template #badgeTpl>
  <nz-badge [nzCount]="count" class="notice-icon__item" [nzStyle]="{ 'box-shadow': 'none' }">
    <i nz-icon type="bell" class="notice-icon__item-icon"></i>
  </nz-badge>
</ng-template>
<div *ngIf="data?.length === 0">
  <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>
</div>
<nz-dropdown *ngIf="data?.length > 0" [nzVisible]="popoverVisible" (nzVisibleChange)="onVisibleChange($event)"
  nzTrigger="click" nzPlacement="bottomRight">
  <div nz-dropdown>
    <ng-template [ngTemplateOutlet]="badgeTpl"></ng-template>
  </div>
  <nz-spin [nzSpinning]="loading" [nzDelay]="0">
    <nz-tabset>
      <nz-tab *ngFor="let i of data" [nzTitle]="i.title">
        <notice-icon-tab [locale]="locale" [data]="i" (select)="onSelect($event)" (clear)="onClear($event)"></notice-icon-tab>
      </nz-tab>
    </nz-tabset>
  </nz-spin>
</nz-dropdown>
